"use strict";!function(){function e(){}var t={tag:"data-event-fn-name",defaultSelector:document,type:!1};e.version="1.0.0",e.config=function(e,n){return t[e]=n},e.on=function(e){function r(e){e=n.getEvent(e);var t=n.getTarget(e),r=n.findBindFnElem(t,d,u);if(r){var i=r.getAttribute(d);if(/^{.*}$/.test(i))try{i=JSON.parse(i)[e.type]}catch(a){throw new SyntaxError("Unexpected token "+i+" in JSON")}var f=o[i];"function"==typeof f&&f(e,r)}}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=i.selector||t.defaultSelector,f=i.type||t.type,d=i.tag||t.tag,u=void 0;if(a instanceof Node)u=a;else{if("string"!=typeof a)throw new TypeError(a+" : Don't support this type of parameter");u="undefined"!=typeof $?$(a)[0]:document.querySelector(a)}if(!u)throw new Error(a+" Not Found.");e=e.split(/,|\s|:/g);var v=!0,c=!1,l=void 0;try{for(var s,E=e.values()[Symbol.iterator]();!(v=(s=E.next()).done);v=!0){var p=s.value;n.removeEvent(u,p,r),n.addEvent(u,p,r,f)}}catch(y){c=!0,l=y}finally{try{!v&&E["return"]&&E["return"]()}finally{if(c)throw l}}};var n={addEvent:function(e,t,n,r){if(e.addEventListener)e.addEventListener(t,n,r);else{if(!e.attachEvent)throw new Error("bind event failed. Browser version is too low");e.attachEvent("on"+t,n)}},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},getEvent:function(e){return e||window.event},getTarget:function(e){return e.target||e.srcElement},findBindFnElem:function(e,t,n){return e.getAttribute&&null!==e.getAttribute(t)?e:e===n?null:this.findBindFnElem(e.parentNode,t,n)}};"function"==typeof define?define(function(){return e}):"undefined"!=typeof exports?module.exports=e:window.entrust=e}();