!function(){var e={tag:"data-event-fn-name",defaultSelector:document,type:!1},t={};t.version="1.0.0",t.config=function(t,n){return e[t]=n},t.on=function(t,r,o){function i(e){e=n.getEvent(e);var t=n.getTarget(e),o=n.findBindFnElem(t,u,f);if(o){var i=o.getAttribute(u);if(/^{.*}$/.test(i))try{i=JSON.parse(i)[e.type]}catch(a){throw new SyntaxError("Unexpected token "+i+" in JSON")}var d=r[i];"function"==typeof d&&d(e,o)}}r=r||{},o=o||{};var f,a=o.selector||e.defaultSelector,d=o.type||e.type,u=o.tag||e.tag;if(a instanceof Node)f=a;else{if("string"!=typeof a)throw new TypeError(a+": Don't support this type of parameter");f="undefined"!=typeof $?$(a)[0]:document.querySelector(a)}if(!f)throw new Error(a+" Not Found.");t=t.split(/,|\s|:/g),t.forEach(function(e){n.removeEvent(f,e,i),n.addEvent(f,e,i,d)});for(var v=0,c=t.length;v<c;v++)n.removeEvent(f,t[v],i),n.addEvent(f,t[v],i,d)};var n={addEvent:function(e,t,n,r){if(e.addEventListener)e.addEventListener(t,n,r);else{if(!e.attachEvent)throw new Error("bind event failed. Browser version is too low");e.attachEvent("on"+t,n)}},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},getEvent:function(e){return e||window.event},getTarget:function(e){return e.target||e.srcElement},findBindFnElem:function(e,t,n){return e.getAttribute&&null!==e.getAttribute(t)?e:e===n?null:this.findBindFnElem(e.parentNode,t,n)}};"function"==typeof define?define(function(){return t}):"undefined"!=typeof exports?module.exports=t:window.entrust=t}();